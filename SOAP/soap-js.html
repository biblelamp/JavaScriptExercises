<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SOAP JavaScript Client Test</title>
    <script>
        function soapRequest() {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open(
            'POST',
            //'https://217.11.251.201:8443/ta-test-ejb/ZakazkaWebserviceV2',
            'https://test.centralni-databaze-dodavatelu.cz/index.php?m=xenorganizations&h=identityprovider&a=server',
            true,
            //'uzivatelz1', 'uzivatelz1' // login, passwd
            'Sergey', '16384cdd'
            );

            var xml =
            '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:soapQCM">'+
                '<soapenv:Header/>'+
                '<soapenv:Body>'+
                    '<urn:uzivatelData>'+
                        '<token>5709e2f5-017c-4324-9f80-a834f49b0823</token>'+
                    '</urn:uzivatelData>'+
                '</soapenv:Body>'+
            '</soapenv:Envelope>';
            /*'<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:kom="http://kompilovane.webovesluzby.ta.tendersystems.cz/">'+
                '<soapenv:Header/>'+
                '<soapenv:Body>'+
                    '<kom:nacistKorenovehoZadavatelePrihlasenehoUzivatele/>'+
                '</soapenv:Body>'+
            '</soapenv:Envelope>';*/

            // build SOAP request
            xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState == 4) {
                    if (xmlhttp.status == 200) {
                        console.log(xmlhttp.responseText);
                    } else {
                        console.log("Status (not 200) = " + xmlhttp.status);
                        console.log(xmlhttp.responseText);
                    }
               } else {
                    console.log("readyState (not 4) = " + xmlhttp.readyState);
               }
            }
            // Send the POST request
            //xmlhttp.setRequestHeader('Content-Type', 'text/xml');
            xmlhttp.send(xml);
       }
    </script>
</head>
<body>
    <form name="Demo" action="" method="post">
        <div>
            <input type="button" value="Soap" onclick="soapRequest();" />
        </div>
    </form>
    <!-- Access-Control-Allow-Origin * -->
</body>
</html>
